{
  "name": "Optia BFF API",
  "description": "Production-ready WordPress/WooCommerce BFF API with PostgreSQL",
  "version": "1.0.0",
  "type": "nodejs",
  "framework": "custom",
  "build": {
    "command": "npm ci && npm run build",
    "outputDirectory": "dist"
  },
  "start": {
    "command": "npm start"
  },
  "environment": "production",
  "port": 3000,
  "healthcheck": {
    "path": "/health",
    "interval": 30,
    "timeout": 10,
    "retries": 3
  },
  "resources": {
    "cpu": "0.5",
    "memory": "512Mi"
  },
  "scaling": {
    "min": 1,
    "max": 3
  },
  "domains": [
    {
      "domain": "api.your-domain.com",
      "ssl": true
    }
  ],
  "services": {
    "postgresql": {
      "image": "postgres:16-alpine",
      "environment": {
        "POSTGRES_DB": "optia_app",
        "POSTGRES_USER": "optia_user",
        "POSTGRES_PASSWORD": "${POSTGRES_PASSWORD}"
      },
      "volumes": [
        {
          "name": "postgres_data",
          "mountPath": "/var/lib/postgresql/data"
        }
      ]
    },
    "redis": {
      "image": "redis:7-alpine",
      "environment": {
        "REDIS_PASSWORD": "${REDIS_PASSWORD}"
      },
      "volumes": [
        {
          "name": "redis_data", 
          "mountPath": "/data"
        }
      ]
    }
  },
  "secrets": [
    "DATABASE_URL",
    "JWT_SECRET",
    "WOOCOMMERCE_CONSUMER_KEY",
    "WOOCOMMERCE_CONSUMER_SECRET",
    "ADMIN_API_KEY",
    "POSTGRES_PASSWORD",
    "REDIS_PASSWORD"
  ]
}
